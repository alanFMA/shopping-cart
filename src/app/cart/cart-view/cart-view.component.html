<h2>Carrinho de Compras</h2>

<ul *ngIf="(items$ | async)?.length">
  <li *ngFor="let item of (items$ | async)">
    {{ item.name }} - R$ {{ item.price | number: '1.2-2' }}
  </li>
</ul>

<p *ngIf="(items$ | async)?.length === 0">Seu carrinho estÃ¡ vazio. ğŸ›’</p>

<p *ngIf="(items$ | async)?.length">Total: R$ {{ getTotal() | number: '1.2-2' }}</p>

<div *ngIf="(items$ | async)?.length">
  <button (click)="checkout()" [disabled]="(loading$ | async)">Finalizar Compra</button>
  <button (click)="clearCart()" [disabled]="(loading$ | async)">Limpar Carrinho</button>
</div>

<p *ngIf="(loading$ | async)">Processando pagamento...</p>