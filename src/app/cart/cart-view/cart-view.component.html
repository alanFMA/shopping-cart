<h2>Carrinho de Compras</h2>

<ng-container *ngIf="cartService.hasItems(); else emptyCart">
  <app-cart-item *ngFor="let item of cartService.items()" [item]="item"></app-cart-item>

  <p class="total">Total: R$ {{ getTotal() | number: '1.2-2' }}</p>

  <div class="actions">
    <app-button label="Finalizar Compra" (click)="checkout()" [disabled]="cartService.loading()">
    </app-button>

    <app-button label="Limpar Carrinho" (click)="clearCart()" [disabled]="cartService.loading()">
    </app-button>
  </div>

  <p *ngIf="cartService.loading()">Processando pagamento...</p>
  <p *ngIf="cartService.checkoutSuccess()">Compra realizada com sucesso! ðŸŽ‰</p>
</ng-container>

<ng-template #emptyCart>
  <app-empty-cart></app-empty-cart>
</ng-template>